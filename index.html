<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game</title>
    <link href="https://fonts.googleapis.com/css?family=Antic+Slab" rel="stylesheet">
</head>
<body>
    <!-- add canvas to html body to draw graphics with JS -->
    <canvas id="snakeBoard" width="400" height="400"></canvas>

    <style>
        #snakeBoard {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</body>

<script>
    const boardBorder = 'black';
    const boardBackground = 'white';
    const snakeCol = 'pink';
    const snakeBorder = 'darkblue';

    //set initial position of snake body with an array of coordinates
    let snake = [ 
        {x:200, y: 200}, 
        {x:190, y: 200}, 
        {x:180, y: 200}, 
        {x:170, y: 200}, 
        {x:160, y: 200},];

    //horizontal velocity (x) d=displacement
    let dx = 10;
    //vertical velocity
    let dy = 0;
    
    //Get the canvas/set game board
    const snakeBoard = document.getElementById("snakeBoard");
    // return a 2 dimensional drawing context
    const snakeBoard_ctx = snakeBoard.getContext("2d");

    //start game
    main();
    // main function called repeatedly to keep the game running
    function main() {
        setTimeout(function onTick(){
            clearCanvass();
            moveSnake();
            drawSnake();
            //call main again
            main();
        }, 100)
        }

    //draw a border around canvass
    function clearCanvass() {
        // Select color to fill drawing
        snakeBoard_ctx.fillStyle = boardBackground;
        //select color for the border of the canvas
        snakeBoard_ctx.strokestyle = boardBorder;
        //Draw a "filled" rectangle to cover the entire canvass
        snakeBoard_ctx.fillRect(0,0, snakeBoard.width, snakeBoard.height);
        // Draw a "border" around entire canvas
        snakeBoard_ctx.strokeRect(0,0, snakeBoard.width, snakeBoard.height);

    }

    //function to draw a rectangle for each pair of coordinates of the snake on canvass
    function drawSnake() {
        snake.forEach(drawSnakePart)
    }

    //function to draw a piece of snakes body with drawSnake 
    function drawSnakePart(snakePart) {
        //select the color of the snake part
        snakeBoard_ctx.fillStyle = snakeCol;
        // set the border color of the snakepart
        snakeBoard_ctx.strokestyle = snakeBorder;
        //Draw a "filled" rectangle to represent the snake part at the coordinates the part is located
        snakeBoard_ctx.fillRect(snakePart.x, snakePart.y, 10, 10);
        //Draw a board around the snake part
        snakeBoard_ctx.strokeRect(snakePart.x, snakePart.y, 10,10);
       }

       function moveSnake() {
        //create new snake's head
        const head = {x: snake[0].x + dx, y: snake[0].y + dy};
        //add new head to the beginning of snake body
        snake.unshift(head);
        //get rid of tail
        snake.pop();
       }
   
</script>
</html>